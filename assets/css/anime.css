/* -----------------------/*
 * AnimeCSS
 * Made par Alsacréations
 * Mise à jour : 2025-12-16
 /* ---------------------- */

/* View Transition API */
@supports (view-transition-name: none) {
  @view-transition {
    navigation: auto;
  }

  /* Animation de transition par défaut */
  [data-anime*="view"]::view-transition-group(root) {
    animation-duration: 0.3s;
    animation-timing-function: ease-in;
    animation-fill-mode: both;
  }

  /* View-down */
  @keyframes view-down-old {
    from {
      translate: 0 0;
    }

    to {
      translate: 0 30px;
    }
  }

  @keyframes view-down-new {
    from {
      translate: 0 -30px;
    }

    to {
      translate: 0 0;
    }
  }

  /* Applique l'animation view-down à l'ancien et nouveau document */
  [data-anime*="view-down"]::view-transition-old(root) {
    animation-name: view-down-old;
  }

  [data-anime*="view-down"]::view-transition-new(root) {
    animation-name: view-down-new;
  }
}

/* Scroll-driven Animations */
@supports (animation-timeline: view()) {
  [data-anime] {
    --anime-spacing-discrete: 40px;
    --anime-spacing-normal: 100%;

    animation-duration: auto;
    animation-timing-function: linear;
    animation-timeline: view(block);
    animation-fill-mode: both;
  }

  [data-anime*="bounce"] {
    animation-timing-function: cubic-bezier(0.09, 0.77, 0.02, 1.31);
  }

  /* Ranges */
  [data-anime*="entry"] {
    --animation-range-entry: cover 10% cover 30%;
    --animation-direction-entry: normal;

    animation-name: var(--animation-name-entry);
    animation-range: var(--animation-range-entry);
    animation-direction: var(--animation-direction-entry);

    &[data-anime*="delay"],
    &[data-anime*="delay-s  "] {
      --animation-range-entry: cover 13% cover 33%;
    }

    &[data-anime*="delay-m"] {
      --animation-range-entry: cover 16% cover 36%;
    }

    &[data-anime*="delay-l"] {
      --animation-range-entry: cover 19% cover 39%;
    }
  }

  [data-anime*="exit"] {
    --animation-range-exit: cover 70% cover 90%;
    --animation-direction-exit: reverse;

    animation-name: var(--animation-name-exit);
    animation-range: var(--animation-range-exit);
    animation-direction: var(--animation-direction-exit);

    &[data-anime*="delay"],
    &[data-anime*="delay-s"] {
      --animation-range-exit: cover 67% cover 87%;
    }

    &[data-anime*="delay-m"] {
      --animation-range-exit: cover 64% cover 84%;
    }

    &[data-anime*="delay-l"] {
      --animation-range-exit: cover 61% cover 81%;
    }
  }

  [data-anime*="entry"][data-anime*="exit"] {
    animation-name: var(--animation-name-entry), var(--animation-name-exit);
    animation-range: var(--animation-range-entry), var(--animation-range-exit);
    animation-direction:
      var(--animation-direction-entry), var(--animation-direction-exit);
    animation-fill-mode: both, forwards;
  }

  /* Animations Libraries */

  /* Slide */
  [data-anime*="slide-left"] {
    --animation-name-entry: slide-left;
    --animation-name-exit: slide-left;
  }

  [data-anime*="slide-right"] {
    --animation-name-entry: slide-right;
    --animation-name-exit: slide-right;
  }

  [data-anime*="slide-up"] {
    --animation-name-entry: slide-up;
    --animation-name-exit: slide-up-exit;
    --animation-direction-exit: normal;
  }

  [data-anime*="slide-left-discrete"] {
    --animation-name-entry: slide-left-discrete;
    --animation-name-exit: slide-left-discrete;
  }

  [data-anime*="slide-right-discrete"] {
    --animation-name-entry: slide-right-discrete;
    --animation-name-exit: slide-right-discrete;
  }

  [data-anime*="slide-up-discrete"] {
    --animation-name-entry: slide-up-discrete;
    --animation-name-exit: slide-up-exit-discrete;
    --animation-direction-exit: normal;
  }

  /* Fade */
  [data-anime*="fade-left"] {
    --animation-name-entry: fade-left;
    --animation-name-exit: fade-left;
  }

  [data-anime*="fade-right"] {
    --animation-name-entry: fade-right;
    --animation-name-exit: fade-right;
  }

  [data-anime*="fade-up"] {
    --animation-name-entry: fade-up;
    --animation-name-exit: fade-up-exit;
    --animation-direction-exit: normal;
  }

  [data-anime*="fade-left-discrete"] {
    --animation-name-entry: fade-left-discrete;
    --animation-name-exit: fade-left-discrete;
  }

  [data-anime*="fade-right-discrete"] {
    --animation-name-entry: fade-right-discrete;
    --animation-name-exit: fade-right-discrete;
  }

  [data-anime*="fade-up-discrete"] {
    --animation-name-entry: fade-up-discrete;
    --animation-name-exit: fade-up-exit-discrete;
    --animation-direction-exit: normal;
  }

  /* Zoom */
  [data-anime*="zoom"] {
    --animation-name-entry: zoom;
    --animation-name-exit: zoom;
  }

  /* Reveal */
  [data-anime*="reveal"] {
    --animation-name-entry: reveal;
    --animation-name-exit: reveal;
  }

  /* Flip */
  [data-anime*="flip-y"] {
    --animation-name-entry: flip-y;
    --animation-name-exit: flip-y;
  }

  [data-anime*="flip-x"] {
    --animation-name-entry: flip-x;
    --animation-name-exit: flip-x;
  }
}

/* Simple Hover/Focus Animations */

/* Shake */
[data-anime*="shake"]:where(:hover, :focus-visible) {
  animation: shake 0.82s cubic-bezier(0.36, 0.07, 0.19, 0.97) both;
}

/* Spaceboots */
[data-anime*="spaceboots"]:where(:hover, :focus-visible) {
  animation: spaceboots 2s linear infinite alternate;
}

/* Accessibility */
@media (prefers-reduced-motion: reduce) {
  [data-anime] {
    transform: none !important;
    transition: none !important;
    animation: none !important;
    opacity: 100% !important;
  }
}

/* Keyframes */

/* Spaceboots */
@keyframes spaceboots {
  0% {
    transform: translate(2px, 1px) rotate(0);
  }

  10% {
    transform: translate(-1px, -2px) rotate(-1deg);
  }

  20% {
    transform: translate(-3px) rotate(1deg);
  }

  30% {
    transform: translateY(2px) rotate(0);
  }

  40% {
    transform: translate(1px, -1px) rotate(1deg);
  }

  50% {
    transform: translate(-1px, 2px) rotate(-1deg);
  }

  60% {
    transform: translate(-3px, 1px) rotate(0);
  }

  70% {
    transform: translate(2px, 1px) rotate(-1deg);
  }

  80% {
    transform: translate(-1px, -1px) rotate(1deg);
  }

  90% {
    transform: translate(2px, 2px) rotate(0);
  }

  100% {
    transform: translate(1px, -2px) rotate(-1deg);
  }
}

/* Shake */
@keyframes shake {
  10%,
  90% {
    translate: -1px;
  }

  20%,
  80% {
    translate: 2px;
  }

  30%,
  50%,
  70% {
    translate: -2px;
  }

  40%,
  60% {
    translate: 2px;
  }
}

/* Slide */
@keyframes slide-left {
  from {
    translate: calc(-1 * var(--anime-spacing-normal, 100%));
  }

  to {
    translate: 0;
  }
}

@keyframes slide-right {
  from {
    translate: var(--anime-spacing-normal, 100%);
  }

  to {
    translate: 0;
  }
}

@keyframes slide-up {
  from {
    translate: 0 var(--anime-spacing-normal, 100%);
  }

  to {
    translate: 0;
  }
}

@keyframes slide-up-exit {
  from {
    translate: 0;
  }

  to {
    translate: 0 calc(-1 * var(--anime-spacing-normal, 100%));
  }
}

@keyframes slide-left-discrete {
  from {
    translate: calc(-1 * var(--anime-spacing-discrete, 40px));
  }

  to {
    translate: 0;
  }
}

@keyframes slide-right-discrete {
  from {
    translate: var(--anime-spacing-discrete, 40px);
  }

  to {
    translate: 0;
  }
}

@keyframes slide-up-discrete {
  from {
    translate: 0 var(--anime-spacing-discrete, 40px);
  }

  to {
    translate: 0;
  }
}

@keyframes slide-up-discrete-exit {
  from {
    translate: 0;
  }

  to {
    translate: 0 calc(-1 * var(--anime-spacing-discrete, 40px));
  }
}

/* Fade */
@keyframes fade-left {
  from {
    translate: calc(-1 * var(--anime-spacing-normal, 100%));
    opacity: 0%;
  }

  to {
    translate: 0;
    opacity: 100%;
  }
}

@keyframes fade-right {
  from {
    translate: var(--anime-spacing-normal, 100%);
    opacity: 0%;
  }

  to {
    translate: 0;
    opacity: 100%;
  }
}

@keyframes fade-up {
  from {
    translate: 0 var(--anime-spacing-normal, 100%);
    opacity: 0%;
  }

  to {
    translate: 0;
    opacity: 100%;
  }
}

@keyframes fade-up-exit {
  from {
    translate: 0;
    opacity: 100%;
  }

  to {
    translate: 0 calc(-1 * var(--anime-spacing-normal, 100%));
    opacity: 0%;
  }
}

@keyframes fade-left-discrete {
  from {
    translate: calc(-1 * var(--anime-spacing-discrete, 40px));
    opacity: 0%;
  }

  to {
    translate: 0;
    opacity: 100%;
  }
}

@keyframes fade-right-discrete {
  from {
    translate: var(--anime-spacing-discrete, 40px);
    opacity: 0%;
  }

  to {
    translate: 0;
    opacity: 100%;
  }
}

@keyframes fade-up-discrete {
  from {
    translate: 0 var(--anime-spacing-discrete, 40px);
    opacity: 0%;
  }

  to {
    translate: 0;
    opacity: 100%;
  }
}

@keyframes fade-up-discrete-exit {
  from {
    translate: 0;
    opacity: 100%;
  }

  to {
    translate: 0 calc(-1 * var(--anime-spacing-discrete, 40px));
    opacity: 0%;
  }
}

/* Zoom */
@keyframes zoom {
  from {
    scale: 0.8;
  }

  to {
    scale: 1;
  }
}

/* Reveal */
@keyframes reveal {
  from {
    opacity: 50%;
  }

  to {
    opacity: 100%;
  }
}

/* Flip */
@keyframes flip-y {
  from {
    transform: perspective(400px) rotateY(90deg);
    opacity: 0%;
  }

  to {
    transform: perspective(400px) rotateY(0);
    opacity: 100%;
  }
}

@keyframes flip-x {
  from {
    transform: perspective(400px) rotateX(90deg);
    opacity: 0%;
  }

  to {
    transform: perspective(400px) rotateX(0);
    opacity: 100%;
  }
}
